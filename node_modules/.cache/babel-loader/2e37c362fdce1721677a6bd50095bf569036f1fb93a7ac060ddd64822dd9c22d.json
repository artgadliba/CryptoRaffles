{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useMemo, useState } from \"react\";\nimport moment from \"moment\";\nfunction getNoun(number, one, two, plural) {\n  let n = Math.abs(number);\n  n %= 100;\n  if (n >= 5 && n <= 20) {\n    return plural;\n  }\n  n %= 10;\n  if (n === 1) {\n    return one;\n  }\n  if (n >= 2 && n <= 4) {\n    return two;\n  }\n  return plural;\n}\nfunction useTimer(date) {\n  _s();\n  const [seconds, setSeconds] = useState(0);\n  const [minuts, setMinuts] = useState(0);\n  const [hours, setHours] = useState(0);\n  const [days, setDays] = useState(0);\n  useEffect(() => {\n    const isLate = moment(moment.now()).isAfter(moment(date));\n    if (isLate) {\n      setSeconds(0);\n      setMinuts(0);\n      setHours(0);\n      setDays(0);\n      return;\n    }\n    const parsedDate = moment.duration(moment(date).diff(moment(moment.now())));\n    const days = Math.floor(parsedDate.asDays());\n    const hours = Math.floor(parsedDate.asHours());\n    const minuts = Math.floor(parsedDate.asMinutes());\n    const seconds = Math.floor(parsedDate.asSeconds());\n    const parsedHours = days ? hours % (days * 24) : hours;\n    const parsedMinuts = hours ? minuts % (hours * 60) : minuts;\n    const parsedSeconds = minuts ? seconds % (minuts * 60) : seconds;\n    setDays(days);\n    setHours(parsedHours);\n    setMinuts(parsedMinuts);\n    setSeconds(parsedSeconds);\n  }, [date]);\n\n  // Turn a timer value like \"0 minuts\" into \"00 minuts for beautiful displaying\"\n  const formatValue = value => value.toString().length === 1 ? `0${value}` : value;\n  const formattedResult = useMemo(() => {\n    const formattedSeconds = formatValue(seconds);\n    const formattedMinuts = formatValue(minuts);\n    const formattedHours = formatValue(hours);\n    const formattedDays = formatValue(days);\n    const secondsNoun = getNoun(seconds, \"секунду\", \"секунды\", \"секунд\");\n    const minutsNoun = getNoun(minuts, \"минуту\", \"минуты\", \"минут\");\n    const hoursNoun = getNoun(hours, \"час\", \"часа\", \"часов\");\n    const daysNoun = getNoun(days, \"день\", \"дня\", \"дней\");\n    return {\n      seconds: formattedSeconds,\n      minuts: formattedMinuts,\n      hours: formattedHours,\n      days: formattedDays,\n      secondsNoun,\n      minutsNoun,\n      hoursNoun,\n      daysNoun\n    };\n  }, [seconds, minuts, hours, days]);\n  return formattedResult;\n}\n_s(useTimer, \"HOHcrpM7HtKdfE1Qpm16Q/eyiuE=\");\nexport default useTimer;","map":{"version":3,"names":["useEffect","useMemo","useState","moment","getNoun","number","one","two","plural","n","Math","abs","useTimer","date","_s","seconds","setSeconds","minuts","setMinuts","hours","setHours","days","setDays","isLate","now","isAfter","parsedDate","duration","diff","floor","asDays","asHours","asMinutes","asSeconds","parsedHours","parsedMinuts","parsedSeconds","formatValue","value","toString","length","formattedResult","formattedSeconds","formattedMinuts","formattedHours","formattedDays","secondsNoun","minutsNoun","hoursNoun","daysNoun"],"sources":["/Users/a.gadliba/Downloads/cryptoraffles-3/src/hooks/useTimer.tsx"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\r\nimport moment from \"moment\";\r\n\r\nfunction getNoun(number: number, one: string, two: string, plural: string) {\r\n  let n = Math.abs(number);\r\n  n %= 100;\r\n  if (n >= 5 && n <= 20) {\r\n    return plural;\r\n  }\r\n  n %= 10;\r\n  if (n === 1) {\r\n    return one;\r\n  }\r\n  if (n >= 2 && n <= 4) {\r\n    return two;\r\n  }\r\n  return plural;\r\n}\r\n\r\nfunction useTimer(date: string | number) {\r\n  const [seconds, setSeconds] = useState(0);\r\n  const [minuts, setMinuts] = useState(0);\r\n  const [hours, setHours] = useState(0);\r\n  const [days, setDays] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const isLate = moment(moment.now()).isAfter(moment(date));\r\n\r\n    if (isLate) {\r\n      setSeconds(0);\r\n      setMinuts(0);\r\n      setHours(0);\r\n      setDays(0);\r\n      return;\r\n    }\r\n\r\n    const parsedDate = moment.duration(moment(date).diff(moment(moment.now())));\r\n\r\n    const days = Math.floor(parsedDate.asDays());\r\n    const hours = Math.floor(parsedDate.asHours());\r\n    const minuts = Math.floor(parsedDate.asMinutes());\r\n    const seconds = Math.floor(parsedDate.asSeconds());\r\n\r\n    const parsedHours = days ? hours % (days * 24) : hours;\r\n    const parsedMinuts = hours ? minuts % (hours * 60) : minuts;\r\n    const parsedSeconds = minuts ? seconds % (minuts * 60) : seconds;\r\n\r\n    setDays(days);\r\n    setHours(parsedHours);\r\n    setMinuts(parsedMinuts);\r\n    setSeconds(parsedSeconds);\r\n  }, [date]);\r\n\r\n  // Turn a timer value like \"0 minuts\" into \"00 minuts for beautiful displaying\"\r\n  const formatValue = (value: number) => (value.toString().length === 1 ? `0${value}` : value);\r\n\r\n  const formattedResult = useMemo(() => {\r\n    const formattedSeconds = formatValue(seconds);\r\n    const formattedMinuts = formatValue(minuts);\r\n    const formattedHours = formatValue(hours);\r\n    const formattedDays = formatValue(days);\r\n\r\n    const secondsNoun = getNoun(seconds, \"секунду\", \"секунды\", \"секунд\");\r\n    const minutsNoun = getNoun(minuts, \"минуту\", \"минуты\", \"минут\");\r\n    const hoursNoun = getNoun(hours, \"час\", \"часа\", \"часов\");\r\n    const daysNoun = getNoun(days, \"день\", \"дня\", \"дней\");\r\n\r\n    return {\r\n      seconds: formattedSeconds,\r\n      minuts: formattedMinuts,\r\n      hours: formattedHours,\r\n      days: formattedDays,\r\n      secondsNoun,\r\n      minutsNoun,\r\n      hoursNoun,\r\n      daysNoun,\r\n    };\r\n  }, [seconds, minuts, hours, days]);\r\n\r\n  return formattedResult;\r\n}\r\n\r\nexport default useTimer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}